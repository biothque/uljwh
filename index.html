<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inscription 2025</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="overlay"></div>

  <header>
    <h1>INSCRIPTION 2025</h1>
  </header>

  <main>
    <form id="formInscription">
      <div class="form-group">
        <label for="nom">Nom :</label>
        <input type="text" name="nom" id="nom" required placeholder="Ex : ONESIME">
      </div>

      <div class="form-group">
        <label for="postnom">Postnom :</label>
        <input type="text" name="postnom" id="postnom" required placeholder="Ex : NANINKASA">
      </div>

      <div class="form-group">
        <label for="prenom">Pr√©nom :</label>
        <input type="text" name="prenom" id="prenom" required placeholder="Ex : Samuel">
      </div>

      <div class="form-group">
        <label for="genre">Genre :</label>
        <select name="genre" id="genre" required>
          <option value="">-- S√©lectionnez --</option>
          <option>Masculin</option>
          <option>F√©minin</option>
        </select>
      </div>

      <div class="form-group">
        <label for="lieu">Lieu de naissance :</label>
        <input type="text" name="lieu" id="lieu" required placeholder="Ex : Kwilu-ngongo">
      </div>

      <div class="form-group">
        <label for="dateNaissance">Date de naissance :</label>
        <input type="date" name="dateNaissance" id="dateNaissance" required>
      </div>

      <div class="form-group">
        <label for="pere">Nom du p√®re :</label>
        <input type="text" name="pere" id="pere" placeholder="Ex : DIANGANI">
      </div>

      <div class="form-group">
        <label for="mere">Nom de la m√®re :</label>
        <input type="text" name="mere" id="mere" placeholder="Ex : NDUNDU">
      </div>

      <div class="form-group">
        <label for="ecole">√âcole fr√©quent√©e :</label>
        <input type="text" name="ecole" id="ecole" required placeholder="Ex : Coll√®ge Boboto">
      </div>

      <div class="form-group">
        <label for="annee">Ann√©e de fin :</label>
        <input type="number" name="annee" id="annee" required placeholder="Ex : 2024">
      </div>

      <div class="form-group">
        <label for="faculte">Facult√© :</label>
        <select name="faculte" id="faculte" required>
          <option value="">-- Choisissez une facult√© --</option>
          <option>Agronomie</option>
          <option>Droit</option>
          <option>Environnement</option>
          <option>Th√©ologie</option>
          <option>Informatique de gestion</option>
          <option>T√©l√©communication et r√©seaux</option>
          <option>Sciences infirmi√®res</option>
          <option>Sant√© Publique</option>
          <option>Sciences √©conomiques</option>
          <option>Sciences de la communication</option>
          <option>Sciences Sociales Politiques et Administratives</option>
          <option>Sciences √©conomiques et Gestion d'entreprise</option>
          <option>Centre d'apprentissage d'anglais</option>
          <option>Centre d'apprentissage d'informatique</option>
        </select>
      </div>

      <div class="form-group">
        <label for="filiale">Filiale :</label>
        <select name="filiale" id="filiale" required>
          <option value="">-- S√©lectionnez un partenaire --</option>
          <option>Camp BARAMOTO</option>
          <option>Camp Tshatshi</option>
          <option>Vide</option>
          <option>Vide</option>
        </select>
      </div>

      <button type="submit">Soumettre</button>
    </form>

    <p id="message" class="message"></p>
  </main>

  <footer>
    <p>üìû Contact : +243 900 000 000 | ‚úâÔ∏è Email : contact@centre2025.cd</p>
    <p>üì≤ WhatsApp : <a href="https://wa.me/243900000000" target="_blank">Rejoignez notre cha√Æne</a></p>
  </footer>

  <!-- Script Backendless -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backendless/6.2.9/backendless.min.js"></script>

  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const APP_ID = "75F9B527-FE0B-4C7E-B2F4-1AD71EE054A0";
      const API_KEY = "60E69D44-7601-447C-B228-6E26EE396C20";
      const TABLE_NAME = "inscriptions";

      Backendless.initApp(APP_ID, API_KEY);

      const form = document.getElementById("formInscription");
      const message = document.getElementById("message");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const data = {
          nom: form.nom.value.trim(),
          postnom: form.postnom.value.trim(),
          prenom: form.prenom.value.trim(),
          genre: form.genre.value,
          lieu_naissance: form.lieu.value.trim(),
          date_naissance: form.dateNaissance.value,
          nom_pere: form.pere.value.trim(),
          nom_mere: form.mere.value.trim(),
          ecole_frequentee: form.ecole.value.trim(),
          annee_fin: form.annee.value,
          faculte: form.faculte.value,
          filiale: form.filiale.value
        };

        try {
          await Backendless.Data.of(TABLE_NAME).save(data);
          message.textContent = "‚úÖ Inscription enregistr√©e avec succ√®s !";
          message.style.color = "#00ff88";
          form.reset();
        } catch (error) {
          console.error("Erreur Backendless :", error);
          message.textContent = "‚ùå Une erreur est survenue. V√©rifie ta connexion Internet.";
          message.style.color = "#ff4444";
        }
      });
    });
  </script>
</body>
</html>
